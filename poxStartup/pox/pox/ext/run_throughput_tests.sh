python create_rrg.py 6 3
echo "Created RRG with 6 hosts of degree 3"
echo "Starting tests with ECMP"
echo "Starting controller..."
../../pox.py log.level --DEBUG --proto.arp_responder=DEBUG openflow.of_01 ext.jelly_controller --ecmp=True proto.arp_responder --10.0.0.1=00:00:00:00:00:01 --10.0.0.2=00:00:00:00:00:02 --10.0.0.3=00:00:00:00:00:03 --10.0.0.4=00:00:00:00:00:04 --10.0.0.5=00:00:00:00:00:05 --10.0.0.6=00:00:00:00:00:06 --10.0.0.7=00:00:00:00:00:07 --10.0.0.8=00:00:00:00:00:08 --10.0.0.9=00:00:00:00:00:09 --10.0.0.10=00:00:00:00:00:10 --10.0.0.11=00:00:00:00:00:11 --10.0.0.12=00:00:00:00:00:12 --10.0.0.13=00:00:00:00:00:13 --10.0.0.14=00:00:00:00:00:14 --10.0.0.15=00:00:00:00:00:15 --10.0.0.16=00:00:00:00:00:16  --10.1.0.0=00:00:00:01:00:00 --10.2.0.0=00:00:00:02:00:00 --10.3.0.0=00:00:00:03:00:00 --10.4.0.0=00:00:00:04:00:00 --10.5.0.0=00:00:00:05:00:00 --10.6.0.0=00:00:00:06:00:00 --10.7.0.0=00:00:00:07:00:00 --10.8.0.0=00:00:00:08:00:00 --10.9.0.0=00:00:00:09:00:00 --10.10.0.0=00:00:00:10:00:00 --10.11.0.0=00:00:00:11:00:00 --10.12.0.0=00:00:00:12:00:00 --10.13.0.0=00:00:00:13:00:00 --10.14.0.0=00:00:00:14:00:00 --10.15.0.0=00:00:00:15:00:00 --10.16.0.0=00:00:00:16:00:00 > /dev/null &> /dev/null &
sleep 3
echo "Running throughput tests..."
sudo python jelly_topology.py ecmp > /dev/null &> /dev/null
kill $(ps aux | grep "pox" | grep -v grep | awk '{print $2}') > /dev/null &> /dev/null
echo "ECMP tests completed!"
echo ""
echo "Starting tests with 8SP"
echo "Starting controller..."
../../pox.py log.level --DEBUG --proto.arp_responder=DEBUG openflow.of_01 ext.jelly_controller --ecmp=False proto.arp_responder --10.0.0.1=00:00:00:00:00:01 --10.0.0.2=00:00:00:00:00:02 --10.0.0.3=00:00:00:00:00:03 --10.0.0.4=00:00:00:00:00:04 --10.0.0.5=00:00:00:00:00:05 --10.0.0.6=00:00:00:00:00:06 --10.0.0.7=00:00:00:00:00:07 --10.0.0.8=00:00:00:00:00:08 --10.0.0.9=00:00:00:00:00:09 --10.0.0.10=00:00:00:00:00:10 --10.0.0.11=00:00:00:00:00:11 --10.0.0.12=00:00:00:00:00:12 --10.0.0.13=00:00:00:00:00:13 --10.0.0.14=00:00:00:00:00:14 --10.0.0.15=00:00:00:00:00:15 --10.0.0.16=00:00:00:00:00:16  --10.1.0.0=00:00:00:01:00:00 --10.2.0.0=00:00:00:02:00:00 --10.3.0.0=00:00:00:03:00:00 --10.4.0.0=00:00:00:04:00:00 --10.5.0.0=00:00:00:05:00:00 --10.6.0.0=00:00:00:06:00:00 --10.7.0.0=00:00:00:07:00:00 --10.8.0.0=00:00:00:08:00:00 --10.9.0.0=00:00:00:09:00:00 --10.10.0.0=00:00:00:10:00:00 --10.11.0.0=00:00:00:11:00:00 --10.12.0.0=00:00:00:12:00:00 --10.13.0.0=00:00:00:13:00:00 --10.14.0.0=00:00:00:14:00:00 --10.15.0.0=00:00:00:15:00:00 --10.16.0.0=00:00:00:16:00:00 > /dev/null &> /dev/null &
sleep 3 > /dev/null &> /dev/null
echo "Running throughput tests..."
sudo python jelly_topology.py k-shortest > /dev/null &> /dev/null
kill $(ps aux | grep "pox" | grep -v grep | awk '{print $2}') &> /dev/null
echo "8SP tests completed!"
echo "Analyzing output..."
python parse.py
